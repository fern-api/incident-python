# This file was auto-generated by Fern from our API Definition.

import typing

from ..core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ..core.request_options import RequestOptions
from ..types.catalog_create_entry_result_v2 import CatalogCreateEntryResultV2
from ..types.catalog_create_type_result_v2 import CatalogCreateTypeResultV2
from ..types.catalog_list_entries_result_v2 import CatalogListEntriesResultV2
from ..types.catalog_list_resources_result_v2 import CatalogListResourcesResultV2
from ..types.catalog_list_types_result_v2 import CatalogListTypesResultV2
from ..types.catalog_show_entry_result_v2 import CatalogShowEntryResultV2
from ..types.catalog_show_type_result_v2 import CatalogShowTypeResultV2
from ..types.catalog_type_attribute_payload_v2 import CatalogTypeAttributePayloadV2
from ..types.catalog_update_entry_result_v2 import CatalogUpdateEntryResultV2
from ..types.catalog_update_type_result_v2 import CatalogUpdateTypeResultV2
from ..types.catalog_update_type_schema_result_v2 import CatalogUpdateTypeSchemaResultV2
from ..types.engine_param_binding_payload_v2 import EngineParamBindingPayloadV2
from .raw_client import AsyncRawCatalogV2Client, RawCatalogV2Client
from .types.catalog_create_type_payload_v2categories_item import CatalogCreateTypePayloadV2CategoriesItem
from .types.catalog_create_type_payload_v2color import CatalogCreateTypePayloadV2Color
from .types.catalog_create_type_payload_v2icon import CatalogCreateTypePayloadV2Icon
from .types.catalog_update_type_payload_v2categories_item import CatalogUpdateTypePayloadV2CategoriesItem
from .types.catalog_update_type_payload_v2color import CatalogUpdateTypePayloadV2Color
from .types.catalog_update_type_payload_v2icon import CatalogUpdateTypePayloadV2Icon

# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class CatalogV2Client:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawCatalogV2Client(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> RawCatalogV2Client:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawCatalogV2Client
        """
        return self._raw_client

    def listentries(
        self,
        *,
        catalog_type_id: str,
        page_size: typing.Optional[int] = None,
        after: typing.Optional[str] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogListEntriesResultV2:
        """
        List entries for a catalog type.

        Parameters
        ----------
        catalog_type_id : str
            ID of this catalog type

        page_size : typing.Optional[int]
            Integer number of records to return

        after : typing.Optional[str]
            An record's ID. This endpoint will return a list of records after this ID in relation to the API response order.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogListEntriesResultV2
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v2.listentries(
            catalog_type_id="01FCNDV6P870EA6S7TK1DSYDG0",
            page_size=25,
            after="01FDAG4SAP5TYPT98WGR2N7W91",
        )
        """
        _response = self._raw_client.listentries(
            catalog_type_id=catalog_type_id, page_size=page_size, after=after, request_options=request_options
        )
        return _response.data

    def createentry(
        self,
        *,
        attribute_values: typing.Dict[str, EngineParamBindingPayloadV2],
        catalog_type_id: str,
        name: str,
        aliases: typing.Optional[typing.Sequence[str]] = OMIT,
        external_id: typing.Optional[str] = OMIT,
        rank: typing.Optional[int] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogCreateEntryResultV2:
        """
        Create an entry within the catalog. We support a maximum of 50,000 entries per type.

        If you call this API with a payload where the external_id and catalog_type_id match an existing entry, the existing entry will be updated.

        Parameters
        ----------
        attribute_values : typing.Dict[str, EngineParamBindingPayloadV2]
            Values of this entry

        catalog_type_id : str
            ID of this catalog type

        name : str
            Name is the human readable name of this entry

        aliases : typing.Optional[typing.Sequence[str]]
            Optional aliases that can be used to reference this entry

        external_id : typing.Optional[str]
            An optional alternative ID for this entry, which is ensured to be unique for the type

        rank : typing.Optional[int]
            When catalog type is ranked, this is used to help order things

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogCreateEntryResultV2
            Created response.

        Examples
        --------
        from fern import (
            EngineParamBindingPayloadV2,
            EngineParamBindingValuePayloadV2,
            IncidentIO,
        )

        client = IncidentIO()
        client.catalog_v2.createentry(
            aliases=["lawrence@incident.io", "lawrence"],
            attribute_values={
                "abc123": EngineParamBindingPayloadV2(
                    array_value=[
                        EngineParamBindingValuePayloadV2(
                            literal="SEV123",
                            reference="incident.severity",
                        )
                    ],
                    value=EngineParamBindingValuePayloadV2(
                        literal="SEV123",
                        reference="incident.severity",
                    ),
                )
            },
            catalog_type_id="01FCNDV6P870EA6S7TK1DSYDG0",
            external_id="761722cd-d1d7-477b-ac7e-90f9e079dc33",
            name="Primary On-call",
            rank=3,
        )
        """
        _response = self._raw_client.createentry(
            attribute_values=attribute_values,
            catalog_type_id=catalog_type_id,
            name=name,
            aliases=aliases,
            external_id=external_id,
            rank=rank,
            request_options=request_options,
        )
        return _response.data

    def showentry(
        self, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> CatalogShowEntryResultV2:
        """
        Show a single catalog entry.

        Parameters
        ----------
        id : str
            ID of this catalog entry

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogShowEntryResultV2
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v2.showentry(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
        )
        """
        _response = self._raw_client.showentry(id, request_options=request_options)
        return _response.data

    def updateentry(
        self,
        id: str,
        *,
        attribute_values: typing.Dict[str, EngineParamBindingPayloadV2],
        name: str,
        aliases: typing.Optional[typing.Sequence[str]] = OMIT,
        external_id: typing.Optional[str] = OMIT,
        rank: typing.Optional[int] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogUpdateEntryResultV2:
        """
        Updates an existing catalog entry.

        Parameters
        ----------
        id : str
            ID of this catalog entry

        attribute_values : typing.Dict[str, EngineParamBindingPayloadV2]
            Values of this entry

        name : str
            Name is the human readable name of this entry

        aliases : typing.Optional[typing.Sequence[str]]
            Optional aliases that can be used to reference this entry

        external_id : typing.Optional[str]
            An optional alternative ID for this entry, which is ensured to be unique for the type

        rank : typing.Optional[int]
            When catalog type is ranked, this is used to help order things

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogUpdateEntryResultV2
            OK response.

        Examples
        --------
        from fern import (
            EngineParamBindingPayloadV2,
            EngineParamBindingValuePayloadV2,
            IncidentIO,
        )

        client = IncidentIO()
        client.catalog_v2.updateentry(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
            aliases=["lawrence@incident.io", "lawrence"],
            attribute_values={
                "abc123": EngineParamBindingPayloadV2(
                    array_value=[
                        EngineParamBindingValuePayloadV2(
                            literal="SEV123",
                            reference="incident.severity",
                        )
                    ],
                    value=EngineParamBindingValuePayloadV2(
                        literal="SEV123",
                        reference="incident.severity",
                    ),
                )
            },
            external_id="761722cd-d1d7-477b-ac7e-90f9e079dc33",
            name="Primary On-call",
            rank=3,
        )
        """
        _response = self._raw_client.updateentry(
            id,
            attribute_values=attribute_values,
            name=name,
            aliases=aliases,
            external_id=external_id,
            rank=rank,
            request_options=request_options,
        )
        return _response.data

    def destroyentry(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        Archives a catalog entry.

        Parameters
        ----------
        id : str
            ID of this catalog entry

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v2.destroyentry(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
        )
        """
        _response = self._raw_client.destroyentry(id, request_options=request_options)
        return _response.data

    def listresources(self, *, request_options: typing.Optional[RequestOptions] = None) -> CatalogListResourcesResultV2:
        """
        List available engine resources for the catalog.

        A resource represents a type of data that can be held within the catalog, so this
        endpoint can be used to see what attribute types can be used when updating the
        schema of a catalog type.

        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogListResourcesResultV2
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v2.listresources()
        """
        _response = self._raw_client.listresources(request_options=request_options)
        return _response.data

    def listtypes(self, *, request_options: typing.Optional[RequestOptions] = None) -> CatalogListTypesResultV2:
        """
        List all catalog types for an organisation, including those synced from external resources.

        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogListTypesResultV2
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v2.listtypes()
        """
        _response = self._raw_client.listtypes(request_options=request_options)
        return _response.data

    def createtype(
        self,
        *,
        description: str,
        name: str,
        annotations: typing.Optional[typing.Dict[str, str]] = OMIT,
        categories: typing.Optional[typing.Sequence[CatalogCreateTypePayloadV2CategoriesItem]] = OMIT,
        color: typing.Optional[CatalogCreateTypePayloadV2Color] = OMIT,
        icon: typing.Optional[CatalogCreateTypePayloadV2Icon] = OMIT,
        ranked: typing.Optional[bool] = OMIT,
        source_repo_url: typing.Optional[str] = OMIT,
        type_name: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogCreateTypeResultV2:
        """
        Create a catalog type. The schema must be updated using the UpdateTypeSchema endpoint.

        Parameters
        ----------
        description : str
            Human readble description of this type

        name : str
            Name is the human readable name of this type

        annotations : typing.Optional[typing.Dict[str, str]]
            Annotations that can track metadata about this type

        categories : typing.Optional[typing.Sequence[CatalogCreateTypePayloadV2CategoriesItem]]
            What categories is this type considered part of

        color : typing.Optional[CatalogCreateTypePayloadV2Color]
            Sets the display color of this type in the dashboard

        icon : typing.Optional[CatalogCreateTypePayloadV2Icon]
            Sets the display icon of this type in the dashboard

        ranked : typing.Optional[bool]
            If this type should be ranked

        source_repo_url : typing.Optional[str]
            The url of the external repository where this type is managed

        type_name : typing.Optional[str]
            The type name of this catalog type, to be used when defining attributes. This is immutable once a CatalogType has been created. For non-externally sync types, it must follow the pattern Custom["SomeName"]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogCreateTypeResultV2
            Created response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v2.createtype(
            annotations={"incident.io/catalog-importer/id": "id-of-config"},
            categories=["customer"],
            color="yellow",
            description="Represents Kubernetes clusters that we run inside of GKE.",
            icon="alert",
            name="Kubernetes Cluster",
            ranked=True,
            source_repo_url="https://github.com/my-company/incident-io-catalog",
            type_name='Custom["BackstageGroup"]',
        )
        """
        _response = self._raw_client.createtype(
            description=description,
            name=name,
            annotations=annotations,
            categories=categories,
            color=color,
            icon=icon,
            ranked=ranked,
            source_repo_url=source_repo_url,
            type_name=type_name,
            request_options=request_options,
        )
        return _response.data

    def showtype(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> CatalogShowTypeResultV2:
        """
        Show a single catalog type.

        Parameters
        ----------
        id : str
            ID of this catalog type

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogShowTypeResultV2
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v2.showtype(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
        )
        """
        _response = self._raw_client.showtype(id, request_options=request_options)
        return _response.data

    def updatetype(
        self,
        id: str,
        *,
        description: str,
        name: str,
        annotations: typing.Optional[typing.Dict[str, str]] = OMIT,
        categories: typing.Optional[typing.Sequence[CatalogUpdateTypePayloadV2CategoriesItem]] = OMIT,
        color: typing.Optional[CatalogUpdateTypePayloadV2Color] = OMIT,
        icon: typing.Optional[CatalogUpdateTypePayloadV2Icon] = OMIT,
        ranked: typing.Optional[bool] = OMIT,
        source_repo_url: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogUpdateTypeResultV2:
        """
        Updates an existing catalog type. The schema must be updated using the UpdateTypeSchema endpoint.

        Parameters
        ----------
        id : str
            ID of this catalog type

        description : str
            Human readble description of this type

        name : str
            Name is the human readable name of this type

        annotations : typing.Optional[typing.Dict[str, str]]
            Annotations that can track metadata about this type

        categories : typing.Optional[typing.Sequence[CatalogUpdateTypePayloadV2CategoriesItem]]
            What categories is this type considered part of

        color : typing.Optional[CatalogUpdateTypePayloadV2Color]
            Sets the display color of this type in the dashboard

        icon : typing.Optional[CatalogUpdateTypePayloadV2Icon]
            Sets the display icon of this type in the dashboard

        ranked : typing.Optional[bool]
            If this type should be ranked

        source_repo_url : typing.Optional[str]
            The url of the external repository where this type is managed

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogUpdateTypeResultV2
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v2.updatetype(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
            annotations={"incident.io/catalog-importer/id": "id-of-config"},
            categories=["customer"],
            color="yellow",
            description="Represents Kubernetes clusters that we run inside of GKE.",
            icon="alert",
            name="Kubernetes Cluster",
            ranked=True,
            source_repo_url="https://github.com/my-company/incident-io-catalog",
        )
        """
        _response = self._raw_client.updatetype(
            id,
            description=description,
            name=name,
            annotations=annotations,
            categories=categories,
            color=color,
            icon=icon,
            ranked=ranked,
            source_repo_url=source_repo_url,
            request_options=request_options,
        )
        return _response.data

    def destroytype(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        Archives a catalog type and associated entries.

        Parameters
        ----------
        id : str
            ID of this catalog type

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v2.destroytype(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
        )
        """
        _response = self._raw_client.destroytype(id, request_options=request_options)
        return _response.data

    def updatetypeschema(
        self,
        id: str,
        *,
        attributes: typing.Sequence[CatalogTypeAttributePayloadV2],
        version: int,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogUpdateTypeSchemaResultV2:
        """
        Update an existing catalog types schema, adding or removing attributes.

        Updating the schema is handled separately from creating and updating types, so that you don't
        have to worry about dependencies between types. For example, if type A has an attribute that
        relies on type B, you would have to create type B first.

        By allowing the creation of types without a schema, they can be created in any order, but it
        means that you need to make a separate call to this endpoint to update the schema.

        Parameters
        ----------
        id : str
            ID of this catalog type

        attributes : typing.Sequence[CatalogTypeAttributePayloadV2]

        version : int

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogUpdateTypeSchemaResultV2
            OK response.

        Examples
        --------
        from fern import (
            CatalogTypeAttributePathItemPayloadV2,
            CatalogTypeAttributePayloadV2,
            IncidentIO,
        )

        client = IncidentIO()
        client.catalog_v2.updatetypeschema(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
            attributes=[
                CatalogTypeAttributePayloadV2(
                    array=False,
                    backlink_attribute="abc123",
                    id="01GW2G3V0S59R238FAHPDS1R66",
                    mode="",
                    name="tier",
                    path=[
                        CatalogTypeAttributePathItemPayloadV2(
                            attribute_id="abc123",
                        )
                    ],
                    type='Custom["Service"]',
                )
            ],
            version=1,
        )
        """
        _response = self._raw_client.updatetypeschema(
            id, attributes=attributes, version=version, request_options=request_options
        )
        return _response.data


class AsyncCatalogV2Client:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawCatalogV2Client(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> AsyncRawCatalogV2Client:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawCatalogV2Client
        """
        return self._raw_client

    async def listentries(
        self,
        *,
        catalog_type_id: str,
        page_size: typing.Optional[int] = None,
        after: typing.Optional[str] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogListEntriesResultV2:
        """
        List entries for a catalog type.

        Parameters
        ----------
        catalog_type_id : str
            ID of this catalog type

        page_size : typing.Optional[int]
            Integer number of records to return

        after : typing.Optional[str]
            An record's ID. This endpoint will return a list of records after this ID in relation to the API response order.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogListEntriesResultV2
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v2.listentries(
                catalog_type_id="01FCNDV6P870EA6S7TK1DSYDG0",
                page_size=25,
                after="01FDAG4SAP5TYPT98WGR2N7W91",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.listentries(
            catalog_type_id=catalog_type_id, page_size=page_size, after=after, request_options=request_options
        )
        return _response.data

    async def createentry(
        self,
        *,
        attribute_values: typing.Dict[str, EngineParamBindingPayloadV2],
        catalog_type_id: str,
        name: str,
        aliases: typing.Optional[typing.Sequence[str]] = OMIT,
        external_id: typing.Optional[str] = OMIT,
        rank: typing.Optional[int] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogCreateEntryResultV2:
        """
        Create an entry within the catalog. We support a maximum of 50,000 entries per type.

        If you call this API with a payload where the external_id and catalog_type_id match an existing entry, the existing entry will be updated.

        Parameters
        ----------
        attribute_values : typing.Dict[str, EngineParamBindingPayloadV2]
            Values of this entry

        catalog_type_id : str
            ID of this catalog type

        name : str
            Name is the human readable name of this entry

        aliases : typing.Optional[typing.Sequence[str]]
            Optional aliases that can be used to reference this entry

        external_id : typing.Optional[str]
            An optional alternative ID for this entry, which is ensured to be unique for the type

        rank : typing.Optional[int]
            When catalog type is ranked, this is used to help order things

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogCreateEntryResultV2
            Created response.

        Examples
        --------
        import asyncio

        from fern import (
            AsyncIncidentIO,
            EngineParamBindingPayloadV2,
            EngineParamBindingValuePayloadV2,
        )

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v2.createentry(
                aliases=["lawrence@incident.io", "lawrence"],
                attribute_values={
                    "abc123": EngineParamBindingPayloadV2(
                        array_value=[
                            EngineParamBindingValuePayloadV2(
                                literal="SEV123",
                                reference="incident.severity",
                            )
                        ],
                        value=EngineParamBindingValuePayloadV2(
                            literal="SEV123",
                            reference="incident.severity",
                        ),
                    )
                },
                catalog_type_id="01FCNDV6P870EA6S7TK1DSYDG0",
                external_id="761722cd-d1d7-477b-ac7e-90f9e079dc33",
                name="Primary On-call",
                rank=3,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.createentry(
            attribute_values=attribute_values,
            catalog_type_id=catalog_type_id,
            name=name,
            aliases=aliases,
            external_id=external_id,
            rank=rank,
            request_options=request_options,
        )
        return _response.data

    async def showentry(
        self, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> CatalogShowEntryResultV2:
        """
        Show a single catalog entry.

        Parameters
        ----------
        id : str
            ID of this catalog entry

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogShowEntryResultV2
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v2.showentry(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.showentry(id, request_options=request_options)
        return _response.data

    async def updateentry(
        self,
        id: str,
        *,
        attribute_values: typing.Dict[str, EngineParamBindingPayloadV2],
        name: str,
        aliases: typing.Optional[typing.Sequence[str]] = OMIT,
        external_id: typing.Optional[str] = OMIT,
        rank: typing.Optional[int] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogUpdateEntryResultV2:
        """
        Updates an existing catalog entry.

        Parameters
        ----------
        id : str
            ID of this catalog entry

        attribute_values : typing.Dict[str, EngineParamBindingPayloadV2]
            Values of this entry

        name : str
            Name is the human readable name of this entry

        aliases : typing.Optional[typing.Sequence[str]]
            Optional aliases that can be used to reference this entry

        external_id : typing.Optional[str]
            An optional alternative ID for this entry, which is ensured to be unique for the type

        rank : typing.Optional[int]
            When catalog type is ranked, this is used to help order things

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogUpdateEntryResultV2
            OK response.

        Examples
        --------
        import asyncio

        from fern import (
            AsyncIncidentIO,
            EngineParamBindingPayloadV2,
            EngineParamBindingValuePayloadV2,
        )

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v2.updateentry(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
                aliases=["lawrence@incident.io", "lawrence"],
                attribute_values={
                    "abc123": EngineParamBindingPayloadV2(
                        array_value=[
                            EngineParamBindingValuePayloadV2(
                                literal="SEV123",
                                reference="incident.severity",
                            )
                        ],
                        value=EngineParamBindingValuePayloadV2(
                            literal="SEV123",
                            reference="incident.severity",
                        ),
                    )
                },
                external_id="761722cd-d1d7-477b-ac7e-90f9e079dc33",
                name="Primary On-call",
                rank=3,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.updateentry(
            id,
            attribute_values=attribute_values,
            name=name,
            aliases=aliases,
            external_id=external_id,
            rank=rank,
            request_options=request_options,
        )
        return _response.data

    async def destroyentry(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        Archives a catalog entry.

        Parameters
        ----------
        id : str
            ID of this catalog entry

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v2.destroyentry(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.destroyentry(id, request_options=request_options)
        return _response.data

    async def listresources(
        self, *, request_options: typing.Optional[RequestOptions] = None
    ) -> CatalogListResourcesResultV2:
        """
        List available engine resources for the catalog.

        A resource represents a type of data that can be held within the catalog, so this
        endpoint can be used to see what attribute types can be used when updating the
        schema of a catalog type.

        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogListResourcesResultV2
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v2.listresources()


        asyncio.run(main())
        """
        _response = await self._raw_client.listresources(request_options=request_options)
        return _response.data

    async def listtypes(self, *, request_options: typing.Optional[RequestOptions] = None) -> CatalogListTypesResultV2:
        """
        List all catalog types for an organisation, including those synced from external resources.

        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogListTypesResultV2
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v2.listtypes()


        asyncio.run(main())
        """
        _response = await self._raw_client.listtypes(request_options=request_options)
        return _response.data

    async def createtype(
        self,
        *,
        description: str,
        name: str,
        annotations: typing.Optional[typing.Dict[str, str]] = OMIT,
        categories: typing.Optional[typing.Sequence[CatalogCreateTypePayloadV2CategoriesItem]] = OMIT,
        color: typing.Optional[CatalogCreateTypePayloadV2Color] = OMIT,
        icon: typing.Optional[CatalogCreateTypePayloadV2Icon] = OMIT,
        ranked: typing.Optional[bool] = OMIT,
        source_repo_url: typing.Optional[str] = OMIT,
        type_name: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogCreateTypeResultV2:
        """
        Create a catalog type. The schema must be updated using the UpdateTypeSchema endpoint.

        Parameters
        ----------
        description : str
            Human readble description of this type

        name : str
            Name is the human readable name of this type

        annotations : typing.Optional[typing.Dict[str, str]]
            Annotations that can track metadata about this type

        categories : typing.Optional[typing.Sequence[CatalogCreateTypePayloadV2CategoriesItem]]
            What categories is this type considered part of

        color : typing.Optional[CatalogCreateTypePayloadV2Color]
            Sets the display color of this type in the dashboard

        icon : typing.Optional[CatalogCreateTypePayloadV2Icon]
            Sets the display icon of this type in the dashboard

        ranked : typing.Optional[bool]
            If this type should be ranked

        source_repo_url : typing.Optional[str]
            The url of the external repository where this type is managed

        type_name : typing.Optional[str]
            The type name of this catalog type, to be used when defining attributes. This is immutable once a CatalogType has been created. For non-externally sync types, it must follow the pattern Custom["SomeName"]

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogCreateTypeResultV2
            Created response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v2.createtype(
                annotations={"incident.io/catalog-importer/id": "id-of-config"},
                categories=["customer"],
                color="yellow",
                description="Represents Kubernetes clusters that we run inside of GKE.",
                icon="alert",
                name="Kubernetes Cluster",
                ranked=True,
                source_repo_url="https://github.com/my-company/incident-io-catalog",
                type_name='Custom["BackstageGroup"]',
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.createtype(
            description=description,
            name=name,
            annotations=annotations,
            categories=categories,
            color=color,
            icon=icon,
            ranked=ranked,
            source_repo_url=source_repo_url,
            type_name=type_name,
            request_options=request_options,
        )
        return _response.data

    async def showtype(
        self, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> CatalogShowTypeResultV2:
        """
        Show a single catalog type.

        Parameters
        ----------
        id : str
            ID of this catalog type

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogShowTypeResultV2
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v2.showtype(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.showtype(id, request_options=request_options)
        return _response.data

    async def updatetype(
        self,
        id: str,
        *,
        description: str,
        name: str,
        annotations: typing.Optional[typing.Dict[str, str]] = OMIT,
        categories: typing.Optional[typing.Sequence[CatalogUpdateTypePayloadV2CategoriesItem]] = OMIT,
        color: typing.Optional[CatalogUpdateTypePayloadV2Color] = OMIT,
        icon: typing.Optional[CatalogUpdateTypePayloadV2Icon] = OMIT,
        ranked: typing.Optional[bool] = OMIT,
        source_repo_url: typing.Optional[str] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogUpdateTypeResultV2:
        """
        Updates an existing catalog type. The schema must be updated using the UpdateTypeSchema endpoint.

        Parameters
        ----------
        id : str
            ID of this catalog type

        description : str
            Human readble description of this type

        name : str
            Name is the human readable name of this type

        annotations : typing.Optional[typing.Dict[str, str]]
            Annotations that can track metadata about this type

        categories : typing.Optional[typing.Sequence[CatalogUpdateTypePayloadV2CategoriesItem]]
            What categories is this type considered part of

        color : typing.Optional[CatalogUpdateTypePayloadV2Color]
            Sets the display color of this type in the dashboard

        icon : typing.Optional[CatalogUpdateTypePayloadV2Icon]
            Sets the display icon of this type in the dashboard

        ranked : typing.Optional[bool]
            If this type should be ranked

        source_repo_url : typing.Optional[str]
            The url of the external repository where this type is managed

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogUpdateTypeResultV2
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v2.updatetype(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
                annotations={"incident.io/catalog-importer/id": "id-of-config"},
                categories=["customer"],
                color="yellow",
                description="Represents Kubernetes clusters that we run inside of GKE.",
                icon="alert",
                name="Kubernetes Cluster",
                ranked=True,
                source_repo_url="https://github.com/my-company/incident-io-catalog",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.updatetype(
            id,
            description=description,
            name=name,
            annotations=annotations,
            categories=categories,
            color=color,
            icon=icon,
            ranked=ranked,
            source_repo_url=source_repo_url,
            request_options=request_options,
        )
        return _response.data

    async def destroytype(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        Archives a catalog type and associated entries.

        Parameters
        ----------
        id : str
            ID of this catalog type

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v2.destroytype(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.destroytype(id, request_options=request_options)
        return _response.data

    async def updatetypeschema(
        self,
        id: str,
        *,
        attributes: typing.Sequence[CatalogTypeAttributePayloadV2],
        version: int,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogUpdateTypeSchemaResultV2:
        """
        Update an existing catalog types schema, adding or removing attributes.

        Updating the schema is handled separately from creating and updating types, so that you don't
        have to worry about dependencies between types. For example, if type A has an attribute that
        relies on type B, you would have to create type B first.

        By allowing the creation of types without a schema, they can be created in any order, but it
        means that you need to make a separate call to this endpoint to update the schema.

        Parameters
        ----------
        id : str
            ID of this catalog type

        attributes : typing.Sequence[CatalogTypeAttributePayloadV2]

        version : int

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogUpdateTypeSchemaResultV2
            OK response.

        Examples
        --------
        import asyncio

        from fern import (
            AsyncIncidentIO,
            CatalogTypeAttributePathItemPayloadV2,
            CatalogTypeAttributePayloadV2,
        )

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v2.updatetypeschema(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
                attributes=[
                    CatalogTypeAttributePayloadV2(
                        array=False,
                        backlink_attribute="abc123",
                        id="01GW2G3V0S59R238FAHPDS1R66",
                        mode="",
                        name="tier",
                        path=[
                            CatalogTypeAttributePathItemPayloadV2(
                                attribute_id="abc123",
                            )
                        ],
                        type='Custom["Service"]',
                    )
                ],
                version=1,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.updatetypeschema(
            id, attributes=attributes, version=version, request_options=request_options
        )
        return _response.data
