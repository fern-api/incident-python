# This file was auto-generated by Fern from our API Definition.

import datetime as dt
import typing

import pydantic
from ..core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel
from .alert_slim_v2status import AlertSlimV2Status


class AlertSlimV2(UniversalBaseModel):
    alert_source_id: str = pydantic.Field()
    """
    The ID of the alert source this alert fired on
    """

    created_at: dt.datetime = pydantic.Field()
    """
    When this entry was created
    """

    deduplication_key: str = pydantic.Field()
    """
    A deduplication key which uniquely references this alert from your alert source. For newly created HTTP sources, this field is required.
    If you send an event with the same deduplication_key multiple times, only one alert will be created in incident.io for this alert source config.
    You can filter on this field to find the alert created by an event you've sent us.
    """

    description: typing.Optional[str] = pydantic.Field(default=None)
    """
    The description of the alert
    """

    id: str = pydantic.Field()
    """
    The ID of this alert
    """

    resolved_at: typing.Optional[dt.datetime] = pydantic.Field(default=None)
    """
    When this alert was resolved
    """

    source_url: typing.Optional[str] = pydantic.Field(default=None)
    """
    If applicable, a link to the alert in the upstream system
    """

    status: AlertSlimV2Status = pydantic.Field()
    """
    Statuses of an alert
    """

    title: str = pydantic.Field()
    """
    The title of the alert, parsed from the alert payload according to the alert source configuration
    """

    updated_at: dt.datetime = pydantic.Field()
    """
    When this alert was last updated
    """

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow
