# This file was auto-generated by Fern from our API Definition.

from __future__ import annotations

import typing

import pydantic
from ..core.pydantic_utilities import IS_PYDANTIC_V2, UniversalBaseModel, update_forward_refs
from .escalation_path_node_level_v2 import EscalationPathNodeLevelV2
from .escalation_path_node_notify_channel_v2 import EscalationPathNodeNotifyChannelV2
from .escalation_path_node_payload_v2type import EscalationPathNodePayloadV2Type
from .escalation_path_node_repeat_v2 import EscalationPathNodeRepeatV2


class EscalationPathNodePayloadV2(UniversalBaseModel):
    id: str = pydantic.Field()
    """
    An ID for this node, unique within the escalation path.
    
    This allows you to reference the node in other nodes, such as when configuring a 'repeat' node.
    """

    if_else: typing.Optional["EscalationPathNodeIfElsePayloadV2"] = None
    level: typing.Optional[EscalationPathNodeLevelV2] = None
    notify_channel: typing.Optional[EscalationPathNodeNotifyChannelV2] = None
    repeat: typing.Optional[EscalationPathNodeRepeatV2] = None
    type: EscalationPathNodePayloadV2Type = pydantic.Field()
    """
    The type of this node. Available types are:
    * level: A set of targets (users or schedules) that should be paged, either all at once, or with a round-robin configuration.
    * notify_channel: Send the escalation to a Slack channel, where it can be acked by anyone in the channel.
    * if_else: Branch the escalation based on a set of conditions.
    * repeat: Go back to a previous node and repeat the logic from there.
    """

    if IS_PYDANTIC_V2:
        model_config: typing.ClassVar[pydantic.ConfigDict] = pydantic.ConfigDict(extra="allow", frozen=True)  # type: ignore # Pydantic v2
    else:

        class Config:
            frozen = True
            smart_union = True
            extra = pydantic.Extra.allow


from .escalation_path_node_if_else_payload_v2 import EscalationPathNodeIfElsePayloadV2  # noqa: E402, I001

update_forward_refs(EscalationPathNodePayloadV2, EscalationPathNodeIfElsePayloadV2=EscalationPathNodeIfElsePayloadV2)
