# This file was auto-generated by Fern from our API Definition.

import typing

from ..core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ..core.request_options import RequestOptions
from ..types.catalog_create_entry_result_v3 import CatalogCreateEntryResultV3
from ..types.catalog_create_type_result_v3 import CatalogCreateTypeResultV3
from ..types.catalog_engine_param_binding_payload_v3 import CatalogEngineParamBindingPayloadV3
from ..types.catalog_list_entries_result_v3 import CatalogListEntriesResultV3
from ..types.catalog_list_resources_result_v3 import CatalogListResourcesResultV3
from ..types.catalog_list_types_result_v3 import CatalogListTypesResultV3
from ..types.catalog_show_entry_result_v3 import CatalogShowEntryResultV3
from ..types.catalog_show_type_result_v3 import CatalogShowTypeResultV3
from ..types.catalog_type_attribute_payload_v3 import CatalogTypeAttributePayloadV3
from ..types.catalog_update_entry_result_v3 import CatalogUpdateEntryResultV3
from ..types.catalog_update_type_result_v3 import CatalogUpdateTypeResultV3
from ..types.catalog_update_type_schema_result_v3 import CatalogUpdateTypeSchemaResultV3
from ..types.partial_entry_payload_v3 import PartialEntryPayloadV3
from .raw_client import AsyncRawCatalogV3Client, RawCatalogV3Client
from .types.catalog_create_type_payload_v3categories_item import CatalogCreateTypePayloadV3CategoriesItem
from .types.catalog_create_type_payload_v3color import CatalogCreateTypePayloadV3Color
from .types.catalog_create_type_payload_v3icon import CatalogCreateTypePayloadV3Icon
from .types.catalog_update_type_payload_v3categories_item import CatalogUpdateTypePayloadV3CategoriesItem
from .types.catalog_update_type_payload_v3color import CatalogUpdateTypePayloadV3Color
from .types.catalog_update_type_payload_v3icon import CatalogUpdateTypePayloadV3Icon

# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class CatalogV3Client:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawCatalogV3Client(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> RawCatalogV3Client:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawCatalogV3Client
        """
        return self._raw_client

    def listentries(
        self,
        *,
        catalog_type_id: str,
        page_size: int,
        after: typing.Optional[str] = None,
        identifier: typing.Optional[str] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogListEntriesResultV3:
        """
        List entries for a catalog type.

        Parameters
        ----------
        catalog_type_id : str
            ID of this catalog type

        page_size : int
            The integer number of records to return

        after : typing.Optional[str]
            An record's ID. This endpoint will return a list of records after this ID in relation to the API response order.

        identifier : typing.Optional[str]
            If specified, only entries with this identifier will be returned. This will search by ID, external ID, and aliases.

            If 'use name as identifier' is enabled for the catalog type, this will also match on name.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogListEntriesResultV3
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v3.listentries(
            catalog_type_id="01FCNDV6P870EA6S7TK1DSYDG0",
            page_size=25,
            after="01FDAG4SAP5TYPT98WGR2N7W91",
            identifier="abc123",
        )
        """
        _response = self._raw_client.listentries(
            catalog_type_id=catalog_type_id,
            page_size=page_size,
            after=after,
            identifier=identifier,
            request_options=request_options,
        )
        return _response.data

    def createentry(
        self,
        *,
        attribute_values: typing.Dict[str, CatalogEngineParamBindingPayloadV3],
        catalog_type_id: str,
        name: str,
        aliases: typing.Optional[typing.Sequence[str]] = OMIT,
        external_id: typing.Optional[str] = OMIT,
        rank: typing.Optional[int] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogCreateEntryResultV3:
        """
        Create an entry within the catalog. We support a maximum of 50,000 entries per type.

        If you call this API with a payload where the external_id and catalog_type_id match an existing entry, the existing entry will be updated.

        Parameters
        ----------
        attribute_values : typing.Dict[str, CatalogEngineParamBindingPayloadV3]
            Values of this entry

        catalog_type_id : str
            ID of this catalog type

        name : str
            Name is the human readable name of this entry

        aliases : typing.Optional[typing.Sequence[str]]
            Optional aliases that can be used to reference this entry

        external_id : typing.Optional[str]
            An optional alternative ID for this entry, which is ensured to be unique for the type

        rank : typing.Optional[int]
            When catalog type is ranked, this is used to help order things

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogCreateEntryResultV3
            Created response.

        Examples
        --------
        from fern import (
            CatalogEngineParamBindingPayloadV3,
            CatalogEngineParamBindingValuePayloadV3,
            IncidentIO,
        )

        client = IncidentIO()
        client.catalog_v3.createentry(
            aliases=["lawrence@incident.io", "lawrence"],
            attribute_values={
                "abc123": CatalogEngineParamBindingPayloadV3(
                    array_value=[
                        CatalogEngineParamBindingValuePayloadV3(
                            literal="SEV123",
                        )
                    ],
                    value=CatalogEngineParamBindingValuePayloadV3(
                        literal="SEV123",
                    ),
                )
            },
            catalog_type_id="01FCNDV6P870EA6S7TK1DSYDG0",
            external_id="761722cd-d1d7-477b-ac7e-90f9e079dc33",
            name="Primary On-call",
            rank=3,
        )
        """
        _response = self._raw_client.createentry(
            attribute_values=attribute_values,
            catalog_type_id=catalog_type_id,
            name=name,
            aliases=aliases,
            external_id=external_id,
            rank=rank,
            request_options=request_options,
        )
        return _response.data

    def bulkupdateentries(
        self,
        *,
        catalog_type_id: str,
        entries: typing.Sequence[PartialEntryPayloadV3],
        update_attributes: typing.Optional[typing.Sequence[str]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> None:
        """
        Update multiple catalog entries in a single operation. You can update up to 250 entries at once. This operation is atomic - either all entries are updated successfully, or none are updated.

        Parameters
        ----------
        catalog_type_id : str
            The unique identifier of the catalog type containing the entries

        entries : typing.Sequence[PartialEntryPayloadV3]
            A list of entries to update with their new values. Maximum 250 entries per request.

        update_attributes : typing.Optional[typing.Sequence[str]]
            Optional list of specific attribute IDs to update across all entries. When provided, only these attributes in attribute_values will be updated and all other attributes will be preserved. This parameter only affects attribute_values - it does not affect core entry fields like name, rank, aliases, or external_id, which follow their individual omission rules.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        from fern import (
            CatalogEngineParamBindingPayloadV3,
            CatalogEngineParamBindingValuePayloadV3,
            IncidentIO,
            PartialEntryPayloadV3,
        )

        client = IncidentIO()
        client.catalog_v3.bulkupdateentries(
            catalog_type_id="01GW2G3V0S59R238FAHPDS1R66",
            entries=[
                PartialEntryPayloadV3(
                    aliases=["abc123"],
                    attribute_values={
                        "abc123": CatalogEngineParamBindingPayloadV3(
                            array_value=[
                                CatalogEngineParamBindingValuePayloadV3(
                                    literal="SEV123",
                                )
                            ],
                            value=CatalogEngineParamBindingValuePayloadV3(
                                literal="SEV123",
                            ),
                        )
                    },
                    entry_id="abc123",
                    external_id="abc123",
                    name="abc123",
                    rank=1,
                ),
                PartialEntryPayloadV3(
                    aliases=["abc123"],
                    attribute_values={
                        "abc123": CatalogEngineParamBindingPayloadV3(
                            array_value=[
                                CatalogEngineParamBindingValuePayloadV3(
                                    literal="SEV123",
                                )
                            ],
                            value=CatalogEngineParamBindingValuePayloadV3(
                                literal="SEV123",
                            ),
                        )
                    },
                    entry_id="abc123",
                    external_id="abc123",
                    name="abc123",
                    rank=1,
                ),
            ],
            update_attributes=[
                "01GW2G3V0S59R238FAHPDS1R66",
                "01GW2G3V0S59R238FAHPDS1R67",
            ],
        )
        """
        _response = self._raw_client.bulkupdateentries(
            catalog_type_id=catalog_type_id,
            entries=entries,
            update_attributes=update_attributes,
            request_options=request_options,
        )
        return _response.data

    def showentry(
        self, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> CatalogShowEntryResultV3:
        """
        Show a single catalog entry.

        Parameters
        ----------
        id : str
            ID of this catalog entry

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogShowEntryResultV3
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v3.showentry(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
        )
        """
        _response = self._raw_client.showentry(id, request_options=request_options)
        return _response.data

    def updateentry(
        self,
        id: str,
        *,
        attribute_values: typing.Dict[str, CatalogEngineParamBindingPayloadV3],
        name: str,
        aliases: typing.Optional[typing.Sequence[str]] = OMIT,
        external_id: typing.Optional[str] = OMIT,
        rank: typing.Optional[int] = OMIT,
        update_attributes: typing.Optional[typing.Sequence[str]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogUpdateEntryResultV3:
        """
        Updates an existing catalog entry.

        Parameters
        ----------
        id : str
            ID of this catalog entry

        attribute_values : typing.Dict[str, CatalogEngineParamBindingPayloadV3]
            Values of this entry

        name : str
            Name is the human readable name of this entry

        aliases : typing.Optional[typing.Sequence[str]]
            Optional aliases that can be used to reference this entry

        external_id : typing.Optional[str]
            An optional alternative ID for this entry, which is ensured to be unique for the type

        rank : typing.Optional[int]
            When catalog type is ranked, this is used to help order things

        update_attributes : typing.Optional[typing.Sequence[str]]
            If provided, only update these attribute_values keys. If not provided, update all attribute values.
            If you specify an attribute key that's not in your payload, the associated attribute value will be cleared.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogUpdateEntryResultV3
            OK response.

        Examples
        --------
        from fern import (
            CatalogEngineParamBindingPayloadV3,
            CatalogEngineParamBindingValuePayloadV3,
            IncidentIO,
        )

        client = IncidentIO()
        client.catalog_v3.updateentry(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
            aliases=["lawrence@incident.io", "lawrence"],
            attribute_values={
                "abc123": CatalogEngineParamBindingPayloadV3(
                    array_value=[
                        CatalogEngineParamBindingValuePayloadV3(
                            literal="SEV123",
                        )
                    ],
                    value=CatalogEngineParamBindingValuePayloadV3(
                        literal="SEV123",
                    ),
                )
            },
            external_id="761722cd-d1d7-477b-ac7e-90f9e079dc33",
            name="Primary On-call",
            rank=3,
            update_attributes=["abc123"],
        )
        """
        _response = self._raw_client.updateentry(
            id,
            attribute_values=attribute_values,
            name=name,
            aliases=aliases,
            external_id=external_id,
            rank=rank,
            update_attributes=update_attributes,
            request_options=request_options,
        )
        return _response.data

    def destroyentry(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        Archives a catalog entry.

        Parameters
        ----------
        id : str
            ID of this catalog entry

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v3.destroyentry(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
        )
        """
        _response = self._raw_client.destroyentry(id, request_options=request_options)
        return _response.data

    def listresources(self, *, request_options: typing.Optional[RequestOptions] = None) -> CatalogListResourcesResultV3:
        """
        List available engine resources for the catalog.

        A resource represents a type of data that can be held within the catalog, so this
        endpoint can be used to see what attribute types can be used when updating the
        schema of a catalog type.

        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogListResourcesResultV3
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v3.listresources()
        """
        _response = self._raw_client.listresources(request_options=request_options)
        return _response.data

    def listtypes(self, *, request_options: typing.Optional[RequestOptions] = None) -> CatalogListTypesResultV3:
        """
        List all catalog types for an organisation, including those synced from external resources.

        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogListTypesResultV3
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v3.listtypes()
        """
        _response = self._raw_client.listtypes(request_options=request_options)
        return _response.data

    def createtype(
        self,
        *,
        description: str,
        name: str,
        annotations: typing.Optional[typing.Dict[str, str]] = OMIT,
        categories: typing.Optional[typing.Sequence[CatalogCreateTypePayloadV3CategoriesItem]] = OMIT,
        color: typing.Optional[CatalogCreateTypePayloadV3Color] = OMIT,
        icon: typing.Optional[CatalogCreateTypePayloadV3Icon] = OMIT,
        ranked: typing.Optional[bool] = OMIT,
        source_repo_url: typing.Optional[str] = OMIT,
        type_name: typing.Optional[str] = OMIT,
        use_name_as_identifier: typing.Optional[bool] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogCreateTypeResultV3:
        """
        Create a catalog type. The schema must be updated using the UpdateTypeSchema endpoint.

        Parameters
        ----------
        description : str
            Human readble description of this type

        name : str
            Name is the human readable name of this type

        annotations : typing.Optional[typing.Dict[str, str]]
            Annotations that can track metadata about this type

        categories : typing.Optional[typing.Sequence[CatalogCreateTypePayloadV3CategoriesItem]]
            What categories is this type considered part of

        color : typing.Optional[CatalogCreateTypePayloadV3Color]
            Sets the display color of this type in the dashboard

        icon : typing.Optional[CatalogCreateTypePayloadV3Icon]
            Sets the display icon of this type in the dashboard

        ranked : typing.Optional[bool]
            If this type should be ranked

        source_repo_url : typing.Optional[str]
            The url of the external repository where this type is managed

        type_name : typing.Optional[str]
            The type name of this catalog type, to be used when defining attributes. This is immutable once a CatalogType has been created. For non-externally sync types, it must follow the pattern Custom["SomeName"]

        use_name_as_identifier : typing.Optional[bool]
            If enabled, you can refer to entries of this type by their name, as well as their external ID and any aliases.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogCreateTypeResultV3
            Created response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v3.createtype(
            annotations={"incident.io/catalog-importer/id": "id-of-config"},
            categories=["customer"],
            color="yellow",
            description="Represents Kubernetes clusters that we run inside of GKE.",
            icon="alert",
            name="Kubernetes Cluster",
            ranked=True,
            source_repo_url="https://github.com/my-company/incident-io-catalog",
            type_name='Custom["BackstageGroup"]',
            use_name_as_identifier=True,
        )
        """
        _response = self._raw_client.createtype(
            description=description,
            name=name,
            annotations=annotations,
            categories=categories,
            color=color,
            icon=icon,
            ranked=ranked,
            source_repo_url=source_repo_url,
            type_name=type_name,
            use_name_as_identifier=use_name_as_identifier,
            request_options=request_options,
        )
        return _response.data

    def showtype(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> CatalogShowTypeResultV3:
        """
        Show a single catalog type.

        Parameters
        ----------
        id : str
            ID of this catalog type

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogShowTypeResultV3
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v3.showtype(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
        )
        """
        _response = self._raw_client.showtype(id, request_options=request_options)
        return _response.data

    def updatetype(
        self,
        id: str,
        *,
        description: str,
        name: str,
        annotations: typing.Optional[typing.Dict[str, str]] = OMIT,
        categories: typing.Optional[typing.Sequence[CatalogUpdateTypePayloadV3CategoriesItem]] = OMIT,
        color: typing.Optional[CatalogUpdateTypePayloadV3Color] = OMIT,
        icon: typing.Optional[CatalogUpdateTypePayloadV3Icon] = OMIT,
        ranked: typing.Optional[bool] = OMIT,
        source_repo_url: typing.Optional[str] = OMIT,
        use_name_as_identifier: typing.Optional[bool] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogUpdateTypeResultV3:
        """
        Updates an existing catalog type. The schema must be updated using the UpdateTypeSchema endpoint.

        Parameters
        ----------
        id : str
            ID of this catalog type

        description : str
            Human readble description of this type

        name : str
            Name is the human readable name of this type

        annotations : typing.Optional[typing.Dict[str, str]]
            Annotations that can track metadata about this type

        categories : typing.Optional[typing.Sequence[CatalogUpdateTypePayloadV3CategoriesItem]]
            What categories is this type considered part of

        color : typing.Optional[CatalogUpdateTypePayloadV3Color]
            Sets the display color of this type in the dashboard

        icon : typing.Optional[CatalogUpdateTypePayloadV3Icon]
            Sets the display icon of this type in the dashboard

        ranked : typing.Optional[bool]
            If this type should be ranked

        source_repo_url : typing.Optional[str]
            The url of the external repository where this type is managed

        use_name_as_identifier : typing.Optional[bool]
            If enabled, you can refer to entries of this type by their name, as well as their external ID and any aliases.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogUpdateTypeResultV3
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v3.updatetype(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
            annotations={"incident.io/catalog-importer/id": "id-of-config"},
            categories=["customer"],
            color="yellow",
            description="Represents Kubernetes clusters that we run inside of GKE.",
            icon="alert",
            name="Kubernetes Cluster",
            ranked=True,
            source_repo_url="https://github.com/my-company/incident-io-catalog",
            use_name_as_identifier=True,
        )
        """
        _response = self._raw_client.updatetype(
            id,
            description=description,
            name=name,
            annotations=annotations,
            categories=categories,
            color=color,
            icon=icon,
            ranked=ranked,
            source_repo_url=source_repo_url,
            use_name_as_identifier=use_name_as_identifier,
            request_options=request_options,
        )
        return _response.data

    def destroytype(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        Archives a catalog type and associated entries.

        Parameters
        ----------
        id : str
            ID of this catalog type

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.catalog_v3.destroytype(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
        )
        """
        _response = self._raw_client.destroytype(id, request_options=request_options)
        return _response.data

    def updatetypeschema(
        self,
        id: str,
        *,
        attributes: typing.Sequence[CatalogTypeAttributePayloadV3],
        version: int,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogUpdateTypeSchemaResultV3:
        """
        Update an existing catalog types schema, adding or removing attributes.

        Updating the schema is handled separately from creating and updating types, so that you don't
        have to worry about dependencies between types. For example, if type A has an attribute that
        relies on type B, you would have to create type B first.

        By allowing the creation of types without a schema, they can be created in any order, but it
        means that you need to make a separate call to this endpoint to update the schema.

        Parameters
        ----------
        id : str
            ID of this catalog type

        attributes : typing.Sequence[CatalogTypeAttributePayloadV3]

        version : int

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogUpdateTypeSchemaResultV3
            OK response.

        Examples
        --------
        from fern import (
            CatalogTypeAttributePathItemPayloadV3,
            CatalogTypeAttributePayloadV3,
            IncidentIO,
        )

        client = IncidentIO()
        client.catalog_v3.updatetypeschema(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
            attributes=[
                CatalogTypeAttributePayloadV3(
                    array=False,
                    backlink_attribute="abc123",
                    id="01GW2G3V0S59R238FAHPDS1R66",
                    mode="",
                    name="tier",
                    path=[
                        CatalogTypeAttributePathItemPayloadV3(
                            attribute_id="abc123",
                        )
                    ],
                    type='Custom["Service"]',
                )
            ],
            version=1,
        )
        """
        _response = self._raw_client.updatetypeschema(
            id, attributes=attributes, version=version, request_options=request_options
        )
        return _response.data


class AsyncCatalogV3Client:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawCatalogV3Client(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> AsyncRawCatalogV3Client:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawCatalogV3Client
        """
        return self._raw_client

    async def listentries(
        self,
        *,
        catalog_type_id: str,
        page_size: int,
        after: typing.Optional[str] = None,
        identifier: typing.Optional[str] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogListEntriesResultV3:
        """
        List entries for a catalog type.

        Parameters
        ----------
        catalog_type_id : str
            ID of this catalog type

        page_size : int
            The integer number of records to return

        after : typing.Optional[str]
            An record's ID. This endpoint will return a list of records after this ID in relation to the API response order.

        identifier : typing.Optional[str]
            If specified, only entries with this identifier will be returned. This will search by ID, external ID, and aliases.

            If 'use name as identifier' is enabled for the catalog type, this will also match on name.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogListEntriesResultV3
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v3.listentries(
                catalog_type_id="01FCNDV6P870EA6S7TK1DSYDG0",
                page_size=25,
                after="01FDAG4SAP5TYPT98WGR2N7W91",
                identifier="abc123",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.listentries(
            catalog_type_id=catalog_type_id,
            page_size=page_size,
            after=after,
            identifier=identifier,
            request_options=request_options,
        )
        return _response.data

    async def createentry(
        self,
        *,
        attribute_values: typing.Dict[str, CatalogEngineParamBindingPayloadV3],
        catalog_type_id: str,
        name: str,
        aliases: typing.Optional[typing.Sequence[str]] = OMIT,
        external_id: typing.Optional[str] = OMIT,
        rank: typing.Optional[int] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogCreateEntryResultV3:
        """
        Create an entry within the catalog. We support a maximum of 50,000 entries per type.

        If you call this API with a payload where the external_id and catalog_type_id match an existing entry, the existing entry will be updated.

        Parameters
        ----------
        attribute_values : typing.Dict[str, CatalogEngineParamBindingPayloadV3]
            Values of this entry

        catalog_type_id : str
            ID of this catalog type

        name : str
            Name is the human readable name of this entry

        aliases : typing.Optional[typing.Sequence[str]]
            Optional aliases that can be used to reference this entry

        external_id : typing.Optional[str]
            An optional alternative ID for this entry, which is ensured to be unique for the type

        rank : typing.Optional[int]
            When catalog type is ranked, this is used to help order things

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogCreateEntryResultV3
            Created response.

        Examples
        --------
        import asyncio

        from fern import (
            AsyncIncidentIO,
            CatalogEngineParamBindingPayloadV3,
            CatalogEngineParamBindingValuePayloadV3,
        )

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v3.createentry(
                aliases=["lawrence@incident.io", "lawrence"],
                attribute_values={
                    "abc123": CatalogEngineParamBindingPayloadV3(
                        array_value=[
                            CatalogEngineParamBindingValuePayloadV3(
                                literal="SEV123",
                            )
                        ],
                        value=CatalogEngineParamBindingValuePayloadV3(
                            literal="SEV123",
                        ),
                    )
                },
                catalog_type_id="01FCNDV6P870EA6S7TK1DSYDG0",
                external_id="761722cd-d1d7-477b-ac7e-90f9e079dc33",
                name="Primary On-call",
                rank=3,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.createentry(
            attribute_values=attribute_values,
            catalog_type_id=catalog_type_id,
            name=name,
            aliases=aliases,
            external_id=external_id,
            rank=rank,
            request_options=request_options,
        )
        return _response.data

    async def bulkupdateentries(
        self,
        *,
        catalog_type_id: str,
        entries: typing.Sequence[PartialEntryPayloadV3],
        update_attributes: typing.Optional[typing.Sequence[str]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> None:
        """
        Update multiple catalog entries in a single operation. You can update up to 250 entries at once. This operation is atomic - either all entries are updated successfully, or none are updated.

        Parameters
        ----------
        catalog_type_id : str
            The unique identifier of the catalog type containing the entries

        entries : typing.Sequence[PartialEntryPayloadV3]
            A list of entries to update with their new values. Maximum 250 entries per request.

        update_attributes : typing.Optional[typing.Sequence[str]]
            Optional list of specific attribute IDs to update across all entries. When provided, only these attributes in attribute_values will be updated and all other attributes will be preserved. This parameter only affects attribute_values - it does not affect core entry fields like name, rank, aliases, or external_id, which follow their individual omission rules.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import asyncio

        from fern import (
            AsyncIncidentIO,
            CatalogEngineParamBindingPayloadV3,
            CatalogEngineParamBindingValuePayloadV3,
            PartialEntryPayloadV3,
        )

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v3.bulkupdateentries(
                catalog_type_id="01GW2G3V0S59R238FAHPDS1R66",
                entries=[
                    PartialEntryPayloadV3(
                        aliases=["abc123"],
                        attribute_values={
                            "abc123": CatalogEngineParamBindingPayloadV3(
                                array_value=[
                                    CatalogEngineParamBindingValuePayloadV3(
                                        literal="SEV123",
                                    )
                                ],
                                value=CatalogEngineParamBindingValuePayloadV3(
                                    literal="SEV123",
                                ),
                            )
                        },
                        entry_id="abc123",
                        external_id="abc123",
                        name="abc123",
                        rank=1,
                    ),
                    PartialEntryPayloadV3(
                        aliases=["abc123"],
                        attribute_values={
                            "abc123": CatalogEngineParamBindingPayloadV3(
                                array_value=[
                                    CatalogEngineParamBindingValuePayloadV3(
                                        literal="SEV123",
                                    )
                                ],
                                value=CatalogEngineParamBindingValuePayloadV3(
                                    literal="SEV123",
                                ),
                            )
                        },
                        entry_id="abc123",
                        external_id="abc123",
                        name="abc123",
                        rank=1,
                    ),
                ],
                update_attributes=[
                    "01GW2G3V0S59R238FAHPDS1R66",
                    "01GW2G3V0S59R238FAHPDS1R67",
                ],
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.bulkupdateentries(
            catalog_type_id=catalog_type_id,
            entries=entries,
            update_attributes=update_attributes,
            request_options=request_options,
        )
        return _response.data

    async def showentry(
        self, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> CatalogShowEntryResultV3:
        """
        Show a single catalog entry.

        Parameters
        ----------
        id : str
            ID of this catalog entry

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogShowEntryResultV3
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v3.showentry(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.showentry(id, request_options=request_options)
        return _response.data

    async def updateentry(
        self,
        id: str,
        *,
        attribute_values: typing.Dict[str, CatalogEngineParamBindingPayloadV3],
        name: str,
        aliases: typing.Optional[typing.Sequence[str]] = OMIT,
        external_id: typing.Optional[str] = OMIT,
        rank: typing.Optional[int] = OMIT,
        update_attributes: typing.Optional[typing.Sequence[str]] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogUpdateEntryResultV3:
        """
        Updates an existing catalog entry.

        Parameters
        ----------
        id : str
            ID of this catalog entry

        attribute_values : typing.Dict[str, CatalogEngineParamBindingPayloadV3]
            Values of this entry

        name : str
            Name is the human readable name of this entry

        aliases : typing.Optional[typing.Sequence[str]]
            Optional aliases that can be used to reference this entry

        external_id : typing.Optional[str]
            An optional alternative ID for this entry, which is ensured to be unique for the type

        rank : typing.Optional[int]
            When catalog type is ranked, this is used to help order things

        update_attributes : typing.Optional[typing.Sequence[str]]
            If provided, only update these attribute_values keys. If not provided, update all attribute values.
            If you specify an attribute key that's not in your payload, the associated attribute value will be cleared.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogUpdateEntryResultV3
            OK response.

        Examples
        --------
        import asyncio

        from fern import (
            AsyncIncidentIO,
            CatalogEngineParamBindingPayloadV3,
            CatalogEngineParamBindingValuePayloadV3,
        )

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v3.updateentry(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
                aliases=["lawrence@incident.io", "lawrence"],
                attribute_values={
                    "abc123": CatalogEngineParamBindingPayloadV3(
                        array_value=[
                            CatalogEngineParamBindingValuePayloadV3(
                                literal="SEV123",
                            )
                        ],
                        value=CatalogEngineParamBindingValuePayloadV3(
                            literal="SEV123",
                        ),
                    )
                },
                external_id="761722cd-d1d7-477b-ac7e-90f9e079dc33",
                name="Primary On-call",
                rank=3,
                update_attributes=["abc123"],
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.updateentry(
            id,
            attribute_values=attribute_values,
            name=name,
            aliases=aliases,
            external_id=external_id,
            rank=rank,
            update_attributes=update_attributes,
            request_options=request_options,
        )
        return _response.data

    async def destroyentry(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        Archives a catalog entry.

        Parameters
        ----------
        id : str
            ID of this catalog entry

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v3.destroyentry(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.destroyentry(id, request_options=request_options)
        return _response.data

    async def listresources(
        self, *, request_options: typing.Optional[RequestOptions] = None
    ) -> CatalogListResourcesResultV3:
        """
        List available engine resources for the catalog.

        A resource represents a type of data that can be held within the catalog, so this
        endpoint can be used to see what attribute types can be used when updating the
        schema of a catalog type.

        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogListResourcesResultV3
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v3.listresources()


        asyncio.run(main())
        """
        _response = await self._raw_client.listresources(request_options=request_options)
        return _response.data

    async def listtypes(self, *, request_options: typing.Optional[RequestOptions] = None) -> CatalogListTypesResultV3:
        """
        List all catalog types for an organisation, including those synced from external resources.

        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogListTypesResultV3
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v3.listtypes()


        asyncio.run(main())
        """
        _response = await self._raw_client.listtypes(request_options=request_options)
        return _response.data

    async def createtype(
        self,
        *,
        description: str,
        name: str,
        annotations: typing.Optional[typing.Dict[str, str]] = OMIT,
        categories: typing.Optional[typing.Sequence[CatalogCreateTypePayloadV3CategoriesItem]] = OMIT,
        color: typing.Optional[CatalogCreateTypePayloadV3Color] = OMIT,
        icon: typing.Optional[CatalogCreateTypePayloadV3Icon] = OMIT,
        ranked: typing.Optional[bool] = OMIT,
        source_repo_url: typing.Optional[str] = OMIT,
        type_name: typing.Optional[str] = OMIT,
        use_name_as_identifier: typing.Optional[bool] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogCreateTypeResultV3:
        """
        Create a catalog type. The schema must be updated using the UpdateTypeSchema endpoint.

        Parameters
        ----------
        description : str
            Human readble description of this type

        name : str
            Name is the human readable name of this type

        annotations : typing.Optional[typing.Dict[str, str]]
            Annotations that can track metadata about this type

        categories : typing.Optional[typing.Sequence[CatalogCreateTypePayloadV3CategoriesItem]]
            What categories is this type considered part of

        color : typing.Optional[CatalogCreateTypePayloadV3Color]
            Sets the display color of this type in the dashboard

        icon : typing.Optional[CatalogCreateTypePayloadV3Icon]
            Sets the display icon of this type in the dashboard

        ranked : typing.Optional[bool]
            If this type should be ranked

        source_repo_url : typing.Optional[str]
            The url of the external repository where this type is managed

        type_name : typing.Optional[str]
            The type name of this catalog type, to be used when defining attributes. This is immutable once a CatalogType has been created. For non-externally sync types, it must follow the pattern Custom["SomeName"]

        use_name_as_identifier : typing.Optional[bool]
            If enabled, you can refer to entries of this type by their name, as well as their external ID and any aliases.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogCreateTypeResultV3
            Created response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v3.createtype(
                annotations={"incident.io/catalog-importer/id": "id-of-config"},
                categories=["customer"],
                color="yellow",
                description="Represents Kubernetes clusters that we run inside of GKE.",
                icon="alert",
                name="Kubernetes Cluster",
                ranked=True,
                source_repo_url="https://github.com/my-company/incident-io-catalog",
                type_name='Custom["BackstageGroup"]',
                use_name_as_identifier=True,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.createtype(
            description=description,
            name=name,
            annotations=annotations,
            categories=categories,
            color=color,
            icon=icon,
            ranked=ranked,
            source_repo_url=source_repo_url,
            type_name=type_name,
            use_name_as_identifier=use_name_as_identifier,
            request_options=request_options,
        )
        return _response.data

    async def showtype(
        self, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> CatalogShowTypeResultV3:
        """
        Show a single catalog type.

        Parameters
        ----------
        id : str
            ID of this catalog type

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogShowTypeResultV3
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v3.showtype(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.showtype(id, request_options=request_options)
        return _response.data

    async def updatetype(
        self,
        id: str,
        *,
        description: str,
        name: str,
        annotations: typing.Optional[typing.Dict[str, str]] = OMIT,
        categories: typing.Optional[typing.Sequence[CatalogUpdateTypePayloadV3CategoriesItem]] = OMIT,
        color: typing.Optional[CatalogUpdateTypePayloadV3Color] = OMIT,
        icon: typing.Optional[CatalogUpdateTypePayloadV3Icon] = OMIT,
        ranked: typing.Optional[bool] = OMIT,
        source_repo_url: typing.Optional[str] = OMIT,
        use_name_as_identifier: typing.Optional[bool] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogUpdateTypeResultV3:
        """
        Updates an existing catalog type. The schema must be updated using the UpdateTypeSchema endpoint.

        Parameters
        ----------
        id : str
            ID of this catalog type

        description : str
            Human readble description of this type

        name : str
            Name is the human readable name of this type

        annotations : typing.Optional[typing.Dict[str, str]]
            Annotations that can track metadata about this type

        categories : typing.Optional[typing.Sequence[CatalogUpdateTypePayloadV3CategoriesItem]]
            What categories is this type considered part of

        color : typing.Optional[CatalogUpdateTypePayloadV3Color]
            Sets the display color of this type in the dashboard

        icon : typing.Optional[CatalogUpdateTypePayloadV3Icon]
            Sets the display icon of this type in the dashboard

        ranked : typing.Optional[bool]
            If this type should be ranked

        source_repo_url : typing.Optional[str]
            The url of the external repository where this type is managed

        use_name_as_identifier : typing.Optional[bool]
            If enabled, you can refer to entries of this type by their name, as well as their external ID and any aliases.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogUpdateTypeResultV3
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v3.updatetype(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
                annotations={"incident.io/catalog-importer/id": "id-of-config"},
                categories=["customer"],
                color="yellow",
                description="Represents Kubernetes clusters that we run inside of GKE.",
                icon="alert",
                name="Kubernetes Cluster",
                ranked=True,
                source_repo_url="https://github.com/my-company/incident-io-catalog",
                use_name_as_identifier=True,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.updatetype(
            id,
            description=description,
            name=name,
            annotations=annotations,
            categories=categories,
            color=color,
            icon=icon,
            ranked=ranked,
            source_repo_url=source_repo_url,
            use_name_as_identifier=use_name_as_identifier,
            request_options=request_options,
        )
        return _response.data

    async def destroytype(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        Archives a catalog type and associated entries.

        Parameters
        ----------
        id : str
            ID of this catalog type

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v3.destroytype(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.destroytype(id, request_options=request_options)
        return _response.data

    async def updatetypeschema(
        self,
        id: str,
        *,
        attributes: typing.Sequence[CatalogTypeAttributePayloadV3],
        version: int,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CatalogUpdateTypeSchemaResultV3:
        """
        Update an existing catalog types schema, adding or removing attributes.

        Updating the schema is handled separately from creating and updating types, so that you don't
        have to worry about dependencies between types. For example, if type A has an attribute that
        relies on type B, you would have to create type B first.

        By allowing the creation of types without a schema, they can be created in any order, but it
        means that you need to make a separate call to this endpoint to update the schema.

        Parameters
        ----------
        id : str
            ID of this catalog type

        attributes : typing.Sequence[CatalogTypeAttributePayloadV3]

        version : int

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CatalogUpdateTypeSchemaResultV3
            OK response.

        Examples
        --------
        import asyncio

        from fern import (
            AsyncIncidentIO,
            CatalogTypeAttributePathItemPayloadV3,
            CatalogTypeAttributePayloadV3,
        )

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.catalog_v3.updatetypeschema(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
                attributes=[
                    CatalogTypeAttributePayloadV3(
                        array=False,
                        backlink_attribute="abc123",
                        id="01GW2G3V0S59R238FAHPDS1R66",
                        mode="",
                        name="tier",
                        path=[
                            CatalogTypeAttributePathItemPayloadV3(
                                attribute_id="abc123",
                            )
                        ],
                        type='Custom["Service"]',
                    )
                ],
                version=1,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.updatetypeschema(
            id, attributes=attributes, version=version, request_options=request_options
        )
        return _response.data
