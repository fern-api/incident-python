# This file was auto-generated by Fern from our API Definition.

import typing

from ..core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ..core.request_options import RequestOptions
from ..types.incident_attachments_create_result_v1 import IncidentAttachmentsCreateResultV1
from ..types.incident_attachments_list_result_v1 import IncidentAttachmentsListResultV1
from .raw_client import AsyncRawIncidentAttachmentsV1Client, RawIncidentAttachmentsV1Client
from .types.incident_attachments_create_payload_v1resource import IncidentAttachmentsCreatePayloadV1Resource
from .types.incident_attachments_v1list_request_resource_type import IncidentAttachmentsV1ListRequestResourceType

# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class IncidentAttachmentsV1Client:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawIncidentAttachmentsV1Client(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> RawIncidentAttachmentsV1Client:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawIncidentAttachmentsV1Client
        """
        return self._raw_client

    def list(
        self,
        *,
        incident_id: typing.Optional[str] = None,
        external_id: typing.Optional[str] = None,
        resource_type: typing.Optional[IncidentAttachmentsV1ListRequestResourceType] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> IncidentAttachmentsListResultV1:
        """
        List all incident attachments for a given external resource or incident. You must provide either a specific incident ID or a specific external resource type and external ID.

        Parameters
        ----------
        incident_id : typing.Optional[str]
            Incident that this attachment is against

        external_id : typing.Optional[str]
            ID of the resource in the external system

        resource_type : typing.Optional[IncidentAttachmentsV1ListRequestResourceType]
            E.g. PagerDuty: the external system that holds the resource

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        IncidentAttachmentsListResultV1
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.incident_attachments_v1.list(
            incident_id="01G0J1EXE7AXZ2C93K61WBPYEH",
            external_id="123",
        )
        """
        _response = self._raw_client.list(
            incident_id=incident_id,
            external_id=external_id,
            resource_type=resource_type,
            request_options=request_options,
        )
        return _response.data

    def create(
        self,
        *,
        incident_id: str,
        resource: IncidentAttachmentsCreatePayloadV1Resource,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> IncidentAttachmentsCreateResultV1:
        """
        Attaches an external resource to an incident

        Parameters
        ----------
        incident_id : str
            ID of the incident to add an attachment to

        resource : IncidentAttachmentsCreatePayloadV1Resource

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        IncidentAttachmentsCreateResultV1
            Created response.

        Examples
        --------
        from fern.incident_attachments_v1 import (
            IncidentAttachmentsCreatePayloadV1Resource,
        )

        from fern import IncidentIO

        client = IncidentIO()
        client.incident_attachments_v1.create(
            incident_id="01FDAG4SAP5TYPT98WGR2N7W91",
            resource=IncidentAttachmentsCreatePayloadV1Resource(
                external_id="123",
                resource_type="pager_duty_incident",
            ),
        )
        """
        _response = self._raw_client.create(incident_id=incident_id, resource=resource, request_options=request_options)
        return _response.data

    def delete(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        Unattaches an external resource from an incident

        Parameters
        ----------
        id : str
            Unique identifier of this incident membership

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.incident_attachments_v1.delete(
            id="01FCNDV6P870EA6S7TK1DSYD5H",
        )
        """
        _response = self._raw_client.delete(id, request_options=request_options)
        return _response.data


class AsyncIncidentAttachmentsV1Client:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawIncidentAttachmentsV1Client(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> AsyncRawIncidentAttachmentsV1Client:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawIncidentAttachmentsV1Client
        """
        return self._raw_client

    async def list(
        self,
        *,
        incident_id: typing.Optional[str] = None,
        external_id: typing.Optional[str] = None,
        resource_type: typing.Optional[IncidentAttachmentsV1ListRequestResourceType] = None,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> IncidentAttachmentsListResultV1:
        """
        List all incident attachments for a given external resource or incident. You must provide either a specific incident ID or a specific external resource type and external ID.

        Parameters
        ----------
        incident_id : typing.Optional[str]
            Incident that this attachment is against

        external_id : typing.Optional[str]
            ID of the resource in the external system

        resource_type : typing.Optional[IncidentAttachmentsV1ListRequestResourceType]
            E.g. PagerDuty: the external system that holds the resource

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        IncidentAttachmentsListResultV1
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.incident_attachments_v1.list(
                incident_id="01G0J1EXE7AXZ2C93K61WBPYEH",
                external_id="123",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.list(
            incident_id=incident_id,
            external_id=external_id,
            resource_type=resource_type,
            request_options=request_options,
        )
        return _response.data

    async def create(
        self,
        *,
        incident_id: str,
        resource: IncidentAttachmentsCreatePayloadV1Resource,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> IncidentAttachmentsCreateResultV1:
        """
        Attaches an external resource to an incident

        Parameters
        ----------
        incident_id : str
            ID of the incident to add an attachment to

        resource : IncidentAttachmentsCreatePayloadV1Resource

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        IncidentAttachmentsCreateResultV1
            Created response.

        Examples
        --------
        import asyncio

        from fern.incident_attachments_v1 import (
            IncidentAttachmentsCreatePayloadV1Resource,
        )

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.incident_attachments_v1.create(
                incident_id="01FDAG4SAP5TYPT98WGR2N7W91",
                resource=IncidentAttachmentsCreatePayloadV1Resource(
                    external_id="123",
                    resource_type="pager_duty_incident",
                ),
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.create(
            incident_id=incident_id, resource=resource, request_options=request_options
        )
        return _response.data

    async def delete(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        Unattaches an external resource from an incident

        Parameters
        ----------
        id : str
            Unique identifier of this incident membership

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.incident_attachments_v1.delete(
                id="01FCNDV6P870EA6S7TK1DSYD5H",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete(id, request_options=request_options)
        return _response.data
