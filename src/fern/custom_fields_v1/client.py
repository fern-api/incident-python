# This file was auto-generated by Fern from our API Definition.

import typing

from ..core.client_wrapper import AsyncClientWrapper, SyncClientWrapper
from ..core.request_options import RequestOptions
from ..types.custom_fields_create_result_v1 import CustomFieldsCreateResultV1
from ..types.custom_fields_list_result_v1 import CustomFieldsListResultV1
from ..types.custom_fields_show_result_v1 import CustomFieldsShowResultV1
from ..types.custom_fields_update_result_v1 import CustomFieldsUpdateResultV1
from .raw_client import AsyncRawCustomFieldsV1Client, RawCustomFieldsV1Client
from .types.custom_fields_create_payload_v1field_type import CustomFieldsCreatePayloadV1FieldType
from .types.custom_fields_create_payload_v1required import CustomFieldsCreatePayloadV1Required
from .types.custom_fields_create_payload_v1required_v2 import CustomFieldsCreatePayloadV1RequiredV2
from .types.custom_fields_update_payload_v1required import CustomFieldsUpdatePayloadV1Required
from .types.custom_fields_update_payload_v1required_v2 import CustomFieldsUpdatePayloadV1RequiredV2

# this is used as the default value for optional parameters
OMIT = typing.cast(typing.Any, ...)


class CustomFieldsV1Client:
    def __init__(self, *, client_wrapper: SyncClientWrapper):
        self._raw_client = RawCustomFieldsV1Client(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> RawCustomFieldsV1Client:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        RawCustomFieldsV1Client
        """
        return self._raw_client

    def list(self, *, request_options: typing.Optional[RequestOptions] = None) -> CustomFieldsListResultV1:
        """
        List all custom fields for an organisation.

        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CustomFieldsListResultV1
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.custom_fields_v1.list()
        """
        _response = self._raw_client.list(request_options=request_options)
        return _response.data

    def create(
        self,
        *,
        description: str,
        field_type: CustomFieldsCreatePayloadV1FieldType,
        name: str,
        show_before_closure: bool,
        show_before_creation: bool,
        show_before_update: bool,
        required: typing.Optional[CustomFieldsCreatePayloadV1Required] = OMIT,
        required_v2: typing.Optional[CustomFieldsCreatePayloadV1RequiredV2] = OMIT,
        show_in_announcement_post: typing.Optional[bool] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CustomFieldsCreateResultV1:
        """
        Create a new custom field

        Parameters
        ----------
        description : str
            Description of the custom field

        field_type : CustomFieldsCreatePayloadV1FieldType
            Type of custom field

        name : str
            Human readable name for the custom field

        show_before_closure : bool
            Whether a custom field should be shown in the incident resolve modal. If this custom field is required before resolution, but no value has been set for it, the field will be shown in the resolve modal whatever the value of this setting.

        show_before_creation : bool
            Whether a custom field should be shown in the incident creation modal. This must be true if the field is always required.

        show_before_update : bool
            Whether a custom field should be shown in the incident update modal.

        required : typing.Optional[CustomFieldsCreatePayloadV1Required]
            When this custom field must be set during the incident lifecycle. [DEPRECATED: please use required_v2 instead].

        required_v2 : typing.Optional[CustomFieldsCreatePayloadV1RequiredV2]
            When this custom field must be set during the incident lifecycle.

        show_in_announcement_post : typing.Optional[bool]
            Whether a custom field should be shown in the list of fields as part of the announcement post when set.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CustomFieldsCreateResultV1
            Created response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.custom_fields_v1.create(
            description="Which team is impacted by this issue",
            field_type="single_select",
            name="Affected Team",
            required="never",
            required_v2="never",
            show_before_closure=True,
            show_before_creation=True,
            show_before_update=True,
            show_in_announcement_post=True,
        )
        """
        _response = self._raw_client.create(
            description=description,
            field_type=field_type,
            name=name,
            show_before_closure=show_before_closure,
            show_before_creation=show_before_creation,
            show_before_update=show_before_update,
            required=required,
            required_v2=required_v2,
            show_in_announcement_post=show_in_announcement_post,
            request_options=request_options,
        )
        return _response.data

    def show(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> CustomFieldsShowResultV1:
        """
        Get a single custom field.

        Parameters
        ----------
        id : str
            Unique identifier for the custom field

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CustomFieldsShowResultV1
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.custom_fields_v1.show(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
        )
        """
        _response = self._raw_client.show(id, request_options=request_options)
        return _response.data

    def update(
        self,
        id: str,
        *,
        description: str,
        name: str,
        show_before_closure: bool,
        show_before_creation: bool,
        show_before_update: bool,
        required: typing.Optional[CustomFieldsUpdatePayloadV1Required] = OMIT,
        required_v2: typing.Optional[CustomFieldsUpdatePayloadV1RequiredV2] = OMIT,
        show_in_announcement_post: typing.Optional[bool] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CustomFieldsUpdateResultV1:
        """
        Update the details of a custom field

        Parameters
        ----------
        id : str
            Unique identifier for the custom field

        description : str
            Description of the custom field

        name : str
            Human readable name for the custom field

        show_before_closure : bool
            Whether a custom field should be shown in the incident resolve modal. If this custom field is required before resolution, but no value has been set for it, the field will be shown in the resolve modal whatever the value of this setting.

        show_before_creation : bool
            Whether a custom field should be shown in the incident creation modal. This must be true if the field is always required.

        show_before_update : bool
            Whether a custom field should be shown in the incident update modal.

        required : typing.Optional[CustomFieldsUpdatePayloadV1Required]
            When this custom field must be set during the incident lifecycle. [DEPRECATED: please use required_v2 instead].

        required_v2 : typing.Optional[CustomFieldsUpdatePayloadV1RequiredV2]
            When this custom field must be set during the incident lifecycle.

        show_in_announcement_post : typing.Optional[bool]
            Whether a custom field should be shown in the list of fields as part of the announcement post when set.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CustomFieldsUpdateResultV1
            OK response.

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.custom_fields_v1.update(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
            description="Which team is impacted by this issue",
            name="Affected Team",
            required="never",
            required_v2="never",
            show_before_closure=True,
            show_before_creation=True,
            show_before_update=True,
            show_in_announcement_post=True,
        )
        """
        _response = self._raw_client.update(
            id,
            description=description,
            name=name,
            show_before_closure=show_before_closure,
            show_before_creation=show_before_creation,
            show_before_update=show_before_update,
            required=required,
            required_v2=required_v2,
            show_in_announcement_post=show_in_announcement_post,
            request_options=request_options,
        )
        return _response.data

    def delete(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        Delete a custom field

        Parameters
        ----------
        id : str
            Unique identifier for the custom field

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        from fern import IncidentIO

        client = IncidentIO()
        client.custom_fields_v1.delete(
            id="01FCNDV6P870EA6S7TK1DSYDG0",
        )
        """
        _response = self._raw_client.delete(id, request_options=request_options)
        return _response.data


class AsyncCustomFieldsV1Client:
    def __init__(self, *, client_wrapper: AsyncClientWrapper):
        self._raw_client = AsyncRawCustomFieldsV1Client(client_wrapper=client_wrapper)

    @property
    def with_raw_response(self) -> AsyncRawCustomFieldsV1Client:
        """
        Retrieves a raw implementation of this client that returns raw responses.

        Returns
        -------
        AsyncRawCustomFieldsV1Client
        """
        return self._raw_client

    async def list(self, *, request_options: typing.Optional[RequestOptions] = None) -> CustomFieldsListResultV1:
        """
        List all custom fields for an organisation.

        Parameters
        ----------
        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CustomFieldsListResultV1
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.custom_fields_v1.list()


        asyncio.run(main())
        """
        _response = await self._raw_client.list(request_options=request_options)
        return _response.data

    async def create(
        self,
        *,
        description: str,
        field_type: CustomFieldsCreatePayloadV1FieldType,
        name: str,
        show_before_closure: bool,
        show_before_creation: bool,
        show_before_update: bool,
        required: typing.Optional[CustomFieldsCreatePayloadV1Required] = OMIT,
        required_v2: typing.Optional[CustomFieldsCreatePayloadV1RequiredV2] = OMIT,
        show_in_announcement_post: typing.Optional[bool] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CustomFieldsCreateResultV1:
        """
        Create a new custom field

        Parameters
        ----------
        description : str
            Description of the custom field

        field_type : CustomFieldsCreatePayloadV1FieldType
            Type of custom field

        name : str
            Human readable name for the custom field

        show_before_closure : bool
            Whether a custom field should be shown in the incident resolve modal. If this custom field is required before resolution, but no value has been set for it, the field will be shown in the resolve modal whatever the value of this setting.

        show_before_creation : bool
            Whether a custom field should be shown in the incident creation modal. This must be true if the field is always required.

        show_before_update : bool
            Whether a custom field should be shown in the incident update modal.

        required : typing.Optional[CustomFieldsCreatePayloadV1Required]
            When this custom field must be set during the incident lifecycle. [DEPRECATED: please use required_v2 instead].

        required_v2 : typing.Optional[CustomFieldsCreatePayloadV1RequiredV2]
            When this custom field must be set during the incident lifecycle.

        show_in_announcement_post : typing.Optional[bool]
            Whether a custom field should be shown in the list of fields as part of the announcement post when set.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CustomFieldsCreateResultV1
            Created response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.custom_fields_v1.create(
                description="Which team is impacted by this issue",
                field_type="single_select",
                name="Affected Team",
                required="never",
                required_v2="never",
                show_before_closure=True,
                show_before_creation=True,
                show_before_update=True,
                show_in_announcement_post=True,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.create(
            description=description,
            field_type=field_type,
            name=name,
            show_before_closure=show_before_closure,
            show_before_creation=show_before_creation,
            show_before_update=show_before_update,
            required=required,
            required_v2=required_v2,
            show_in_announcement_post=show_in_announcement_post,
            request_options=request_options,
        )
        return _response.data

    async def show(
        self, id: str, *, request_options: typing.Optional[RequestOptions] = None
    ) -> CustomFieldsShowResultV1:
        """
        Get a single custom field.

        Parameters
        ----------
        id : str
            Unique identifier for the custom field

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CustomFieldsShowResultV1
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.custom_fields_v1.show(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.show(id, request_options=request_options)
        return _response.data

    async def update(
        self,
        id: str,
        *,
        description: str,
        name: str,
        show_before_closure: bool,
        show_before_creation: bool,
        show_before_update: bool,
        required: typing.Optional[CustomFieldsUpdatePayloadV1Required] = OMIT,
        required_v2: typing.Optional[CustomFieldsUpdatePayloadV1RequiredV2] = OMIT,
        show_in_announcement_post: typing.Optional[bool] = OMIT,
        request_options: typing.Optional[RequestOptions] = None,
    ) -> CustomFieldsUpdateResultV1:
        """
        Update the details of a custom field

        Parameters
        ----------
        id : str
            Unique identifier for the custom field

        description : str
            Description of the custom field

        name : str
            Human readable name for the custom field

        show_before_closure : bool
            Whether a custom field should be shown in the incident resolve modal. If this custom field is required before resolution, but no value has been set for it, the field will be shown in the resolve modal whatever the value of this setting.

        show_before_creation : bool
            Whether a custom field should be shown in the incident creation modal. This must be true if the field is always required.

        show_before_update : bool
            Whether a custom field should be shown in the incident update modal.

        required : typing.Optional[CustomFieldsUpdatePayloadV1Required]
            When this custom field must be set during the incident lifecycle. [DEPRECATED: please use required_v2 instead].

        required_v2 : typing.Optional[CustomFieldsUpdatePayloadV1RequiredV2]
            When this custom field must be set during the incident lifecycle.

        show_in_announcement_post : typing.Optional[bool]
            Whether a custom field should be shown in the list of fields as part of the announcement post when set.

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        CustomFieldsUpdateResultV1
            OK response.

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.custom_fields_v1.update(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
                description="Which team is impacted by this issue",
                name="Affected Team",
                required="never",
                required_v2="never",
                show_before_closure=True,
                show_before_creation=True,
                show_before_update=True,
                show_in_announcement_post=True,
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.update(
            id,
            description=description,
            name=name,
            show_before_closure=show_before_closure,
            show_before_creation=show_before_creation,
            show_before_update=show_before_update,
            required=required,
            required_v2=required_v2,
            show_in_announcement_post=show_in_announcement_post,
            request_options=request_options,
        )
        return _response.data

    async def delete(self, id: str, *, request_options: typing.Optional[RequestOptions] = None) -> None:
        """
        Delete a custom field

        Parameters
        ----------
        id : str
            Unique identifier for the custom field

        request_options : typing.Optional[RequestOptions]
            Request-specific configuration.

        Returns
        -------
        None

        Examples
        --------
        import asyncio

        from fern import AsyncIncidentIO

        client = AsyncIncidentIO()


        async def main() -> None:
            await client.custom_fields_v1.delete(
                id="01FCNDV6P870EA6S7TK1DSYDG0",
            )


        asyncio.run(main())
        """
        _response = await self._raw_client.delete(id, request_options=request_options)
        return _response.data
